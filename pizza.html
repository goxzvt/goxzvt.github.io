<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Build a Pizza</title>
  <style>
    html,body{ height:100%; margin:0; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial; background: linear-gradient(180deg,#071023 0%, #071728 100%); color:#f8fafc; }
    .wrap{ min-height:100vh; display:flex; align-items:center; justify-content:center; padding:32px; box-sizing:border-box }
    .card{ background: rgba(255,255,255,0.03); border-radius:12px; padding:28px; width:100%; max-width:900px; box-shadow:0 10px 30px rgba(2,6,23,0.6); }
    h1{ margin:0 0 8px; color:#cfe8ff }
    p.subtitle{ margin:0 0 16px; color:#9fb6d6 }
    .builder{ display:flex; gap:24px; align-items:flex-start; }
    .controls{ flex:1 }
    .preview{ width:300px; flex:0 0 300px; display:flex; align-items:center; justify-content:center }
    .pizza{ width:260px; height:260px; border-radius:50%; background: radial-gradient(circle at 30% 20%, #f4a261 0%, #e76f51 60%); box-shadow: inset 0 8px 30px rgba(0,0,0,0.25); position:relative }
    .topping{ position:absolute; width:20px; height:20px; border-radius:50%; }
    .topping.pepperoni{ background:#b33; }
    .topping.mushroom{ background:#e5d6c8; width:28px; height:16px; border-radius:12px; }
    .topping.olive{ background:#2b2; width:12px; height:12px; }
    .topping.cheese{ background:#ffd166; width:260px; height:260px; border-radius:50%; opacity:0.12 }
    .ingredient-list{ display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:8px }
    label{ display:flex; gap:8px; align-items:center; cursor:pointer }
    .total{ margin-top:12px; font-weight:700 }
    .actions{ margin-top:16px; display:flex; gap:8px }
    .btn{ background:#111827; border:1px solid rgba(255,255,255,0.04); padding:8px 12px; color:#fff; border-radius:8px; text-decoration:none }
    a.btn{ display:inline-flex; align-items:center }
  </style>
</head>
<body>
  <main class="wrap">
    <section class="card">
      <h1>Build a Pizza</h1>
      <p class="subtitle">Choose ingredients and see a playful preview and the total price.</p>

      <div class="builder">
        <div class="controls">
          <div class="ingredient-list" id="ingredients"></div>
          <div class="total" id="total">Total: $5.00</div>
          <div class="actions">
            <button id="orderBtn" class="btn">Order</button>
            <a class="btn" href="/">Back</a>
          </div>
        </div>

        <div class="preview">
          <div class="pizza" id="pizza" aria-hidden="true"></div>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Simple pizza builder
    const BASE_PRICE = 5.00;
    const INGREDIENTS = [
      { id:'pepperoni', name:'Pepperoni', price:1.00 },
      { id:'mushrooms', name:'Mushrooms', price:0.8 },
      { id:'onions', name:'Onions', price:0.5 },
      { id:'olives', name:'Olives', price:0.8 },
      { id:'cheese', name:'Extra cheese', price:1.2 },
      { id:'peppers', name:'Peppers', price:0.7 }
    ];

    const ingredientsEl = document.getElementById('ingredients');
    const pizzaEl = document.getElementById('pizza');
    const totalEl = document.getElementById('total');

    function formatPrice(v){ return '$' + v.toFixed(2); }

    INGREDIENTS.forEach(ing => {
      const id = 'chk_' + ing.id;
      const wrapper = document.createElement('label');
      wrapper.htmlFor = id;
      wrapper.innerHTML = `<input type="checkbox" id="${id}" data-id="${ing.id}" /> <span>${ing.name} (${formatPrice(ing.price)})</span>`;
      ingredientsEl.appendChild(wrapper);
    });

    function update(){
      const selected = [];
      ingredientsEl.querySelectorAll('input[type=checkbox]').forEach(cb => {
        if(cb.checked) selected.push(cb.dataset.id);
      });

      // clear toppings
      pizzaEl.querySelectorAll('.topping').forEach(n=>n.remove());

      // add simple toppings positions
      const positions = [
        {x:40,y:40},{x:120,y:40},{x:200,y:40},{x:80,y:120},{x:140,y:120},{x:60,y:200},{x:180,y:180},{x:140,y:200}
      ];

      if(selected.includes('cheese')){
        const t = document.createElement('div'); t.className='topping cheese'; pizzaEl.appendChild(t);
      }
      selected.forEach((id,idx) => {
        const p = positions[idx % positions.length];
        const t = document.createElement('div');
        t.className = 'topping ' + id;
        t.style.left = p.x + 'px';
        t.style.top = p.y + 'px';
        pizzaEl.appendChild(t);
      });

      // compute total
      let total = BASE_PRICE;
      INGREDIENTS.forEach(ing => {
        const cb = document.querySelector('#chk_' + ing.id);
        if(cb && cb.checked) total += ing.price;
      });
      totalEl.textContent = 'Total: ' + formatPrice(total);
    }

    ingredientsEl.addEventListener('change', update);
    document.getElementById('orderBtn').addEventListener('click', ()=>{
      alert('Thanks! Your pizza order total is ' + totalEl.textContent.replace('Total: ',''));
    });

    // initial render
    update();
  </script>
</body>
</html>
